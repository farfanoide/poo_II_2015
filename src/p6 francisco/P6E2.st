Object subclass: #Sale	instanceVariableNames: 'amount pending'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos2Practica6-Ejercicio 2'!!Sale commentStamp: '<historical>' prior: 0!Clase Venta para vendedor!!Sale methodsFor: 'initialize-release' stamp: ' 6/5/15 15:55'!initialize	pending := false.	^self! !!Sale methodsFor: 'accessing' stamp: ' 6/5/15 15:55'!amount: anObject	amount := anObject! !!Sale methodsFor: 'accessing' stamp: ' 6/5/15 15:55'!setAsPending	pending := true! !!Sale methodsFor: 'accessing' stamp: ' 6/5/15 15:55'!collected	^pending not! !!Sale methodsFor: 'accessing' stamp: ' 6/5/15 15:55'!setAsCollected	pending := false! !!Sale methodsFor: 'accessing' stamp: ' 6/5/15 15:55'!pending	^pending! !!Sale methodsFor: 'accessing' stamp: ' 6/5/15 15:55'!amount	^amount! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Sale class	instanceVariableNames: ''!!Sale class methodsFor: 'instance creation' stamp: ' 6/5/15 15:55'!pendingFor: anAmount 	^(self for: anAmount)		setAsPending;		yourself! !!Sale class methodsFor: 'instance creation' stamp: ' 6/5/15 15:55'!for: anAmount 	^(self new)		amount: anAmount;		yourself! !!Sale class methodsFor: 'instance creation' stamp: ' 6/5/15 15:55'!new	"Answer a newly created and initialized instance."	^super new initialize! !TestCase subclass: #SalesmanTest	instanceVariableNames: 'smallSale regularSale bigSale smallPendingSale bigPendingSale noSalesSalesman oneSaleSalesman fiveSalesSalesman'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos2Practica6-Ejercicio 2'!!SalesmanTest methodsFor: 'testing' stamp: ' 6/5/15 15:58'!testNoSalesPendingMoney	self deny: noSalesSalesman pendingMoney < 0		description: 'A salesman should never have negative pending money'.	self assert: noSalesSalesman pendingMoney = 0		description: 'Salesman with no sales should have 0 pending money'.	noSalesSalesman addSale: smallSale.	self assert: noSalesSalesman pendingMoney = 0		description: 'Salesman with no pending sales should have 0 pending money'.	noSalesSalesman addSale: smallPendingSale.	self assert: noSalesSalesman pendingMoney = smallPendingSale amount		description: 'Salesman with one pending sale should have pending money equal to sale amount'.! !!SalesmanTest methodsFor: 'testing' stamp: ' 6/5/15 15:58'!testSalesmanCreation	| john |	john := Salesman named: 'John'.	self assert: john pendingMoney = 0 description: 'A newly created salesman should have 0 pending money'.	self assert: john name = 'John' description: 'A salesman shoul be the same as specified in creation using #named:'.! !!SalesmanTest methodsFor: 'testing' stamp: ' 6/5/15 15:58'!testOneSalePendingMoney	self deny: oneSaleSalesman pendingMoney < 0		description: 'A salesman should never have negative pending money'.	self assert: oneSaleSalesman pendingMoney = smallPendingSale amount		description: 'Salesman with one pending sale should have pending money equal to sale amount'.	oneSaleSalesman addSale: smallSale.	self assert: oneSaleSalesman pendingMoney = smallPendingSale amount		description: 'Salesman with one pending sale should have pending money equal to sale amount'.	oneSaleSalesman addSale: bigPendingSale.	self assert: oneSaleSalesman pendingMoney = (smallPendingSale amount + bigPendingSale amount)		description: 'Salesman with two pending sales should have pending money equal the sum of both sales amount'.! !!SalesmanTest methodsFor: 'testing' stamp: ' 6/5/15 15:58'!testFiveSalesPendingMoney	self deny: fiveSalesSalesman pendingMoney < 0		description: 'A salesman should never have negative pending money'.	self assert: fiveSalesSalesman pendingMoney = (smallPendingSale amount + bigPendingSale amount)		description: 'Salesman with two pending sales should have pending money equal the sum of both sales amount'.! !!SalesmanTest methodsFor: 'testing' stamp: ' 6/5/15 15:58'!testPendingSalesNumber	self assert: noSalesSalesman pendingSalesNumber = 0		description: 'A salesman with no pending sales must return 0 when asked for #pendingSalesNumber'.	self assert: oneSaleSalesman pendingSalesNumber = 1		description: 'A salesman with one pending sales must return 1 when asked for #pendingSalesNumber'.	self assert: fiveSalesSalesman pendingSalesNumber = 2		description: 'A salesman with two pending sales must return 2 when asked for #pendingSalesNumber'.! !!SalesmanTest methodsFor: 'running' stamp: ' 6/5/15 15:58'!setUp	smallSale := Sale for: 100.	regularSale := Sale for: 500.	bigSale := Sale for: 13400.	smallPendingSale := Sale pendingFor: 110.	bigPendingSale := Sale pendingFor: 12000.	noSalesSalesman := Salesman named: 'George'.	oneSaleSalesman := (Salesman named: 'Paul')				addSale: smallPendingSale;				yourself.	fiveSalesSalesman := (Salesman named: 'Ringo')				addSale: smallSale;				addSale: regularSale;				addSale: bigSale;				addSale: smallPendingSale;				addSale: bigPendingSale;				yourself! !Object subclass: #Salesman	instanceVariableNames: 'name sales'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos2Practica6-Ejercicio 2'!!Salesman commentStamp: '<historical>' prior: 0!Clase Vendedor!!Salesman methodsFor: 'accessing' stamp: ' 6/5/15 15:56'!addSale: aSale 	sales add: aSale! !!Salesman methodsFor: 'accessing' stamp: ' 6/5/15 15:56'!name: aString	name := aString! !!Salesman methodsFor: 'accessing' stamp: ' 6/5/15 15:56'!name	^name! !!Salesman methodsFor: 'accessing' stamp: ' 6/5/15 15:56'!sales	^sales! !!Salesman methodsFor: 'as yet unclassified' stamp: 'francisco 6/7/2015 20:05'!pendientes		^ (sales select:[:s | s pending]).! !!Salesman methodsFor: 'sales' stamp: 'francisco 6/7/2015 20:08'!pendingSalesNumber	^ self pendientes size! !!Salesman methodsFor: 'sales' stamp: 'francisco 6/7/2015 20:27'!pendingMoney		^((self pendientes) inject:0 into: [:tot :s2 | tot + s2 amount.])! !!Salesman methodsFor: 'initialize-release' stamp: ' 6/5/15 15:56'!initialize	sales := OrderedCollection new.	^self! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Salesman class	instanceVariableNames: ''!!Salesman class methodsFor: 'instance creation' stamp: ' 6/5/15 15:56'!named: aString 	^(self new)		name: aString;		yourself! !!Salesman class methodsFor: 'instance creation' stamp: ' 6/5/15 15:56'!new	"Answer a newly created and initialized instance."	^super new initialize! !